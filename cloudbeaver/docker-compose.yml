version: '3.8'

services:
  cloudbeaver:
    image: dbeaver/cloudbeaver:latest
    container_name: cloudbeaver
    restart: unless-stopped
    ports:
      - "8978:8978"
    volumes:
      - cloudbeaver_workspace:/opt/cloudbeaver/workspace
      # 注意：首次启动时不要挂载配置文件，让 CloudBeaver 自动初始化
      # 初始化完成后，如需子路径部署，参考 README.md 修改运行时配置
      # - ./cloudbeaver.conf:/opt/cloudbeaver/conf/cloudbeaver.conf:ro
    environment:
      - TZ=Asia/Shanghai
      # 子路径配置（如果需要通过 /cloudbeaver 访问）
      # 取消注释并修改为你的子路径
      - CLOUDBEAVER_ROOT_URI=/cloudbeaver

volumes:
  cloudbeaver_workspace:
